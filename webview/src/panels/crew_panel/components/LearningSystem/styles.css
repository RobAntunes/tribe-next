@import '../common/styles.css';

/* LearningSystem component styles */
/* Adding styles for the visualization tab */
.learning-system {
  display: flex;
  flex-direction: column;
  background-color: var(--vscode-editor-background);
  border: 1px solid var(--vscode-panel-border);
  border-radius: var(--radius-md);
  overflow: hidden;
  margin-bottom: var(--space-4);
  box-shadow: var(--shadow-sm);
  transition: box-shadow var(--transition-normal) var(--transition-ease);
}

.learning-system:hover {
  box-shadow: var(--shadow-md);
}

.learning-system-header {
  display: flex;
  align-items: center;
  padding: var(--space-3) var(--space-4);
  background-color: var(--vscode-editor-background);
  border-bottom: 1px solid var(--vscode-panel-border);
}

.learning-system-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: var(--radius-full);
  background-color: var(--tribe-accent);
  color: white;
  margin-right: var(--space-3);
}

.learning-system-header h2 {
  margin: 0;
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--vscode-editor-foreground);
}

.learning-system-tabs {
  display: flex;
  border-bottom: 1px solid var(--vscode-panel-border);
  background-color: var(--vscode-editor-background);
}

.learning-system-tab {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;
  color: var(--vscode-editor-foreground);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast) var(--transition-ease);
}

.learning-system-tab:hover {
  background-color: var(--vscode-list-hoverBackground);
}

.learning-system-tab.active {
  border-bottom: 2px solid var(--tribe-accent);
  color: var(--tribe-accent);
  background-color: var(--vscode-list-activeSelectionBackground);
}

.learning-system-content {
  padding: var(--space-4);
}

.capture-form-container,
.extract-form-container {
  background-color: var(--vscode-editor-background);
  border: 1px solid var(--vscode-panel-border);
  border-radius: var(--radius-md);
  padding: var(--space-4);
  margin-bottom: var(--space-4);
  animation: slideDown var(--transition-normal) var(--transition-ease-out);
}

.capture-form-container h3,
.extract-form-container h3,
.experiences-list h3,
.patterns-list h3 {
  margin-top: 0;
  margin-bottom: var(--space-3);
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--vscode-editor-foreground);
}

.experiences-list,
.patterns-list {
  margin-top: var(--space-4);
}

.experience-item,
.pattern-item {
  background-color: var(--vscode-editor-background);
  border: 1px solid var(--vscode-panel-border);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-3);
  overflow: hidden;
  transition: all var(--transition-fast) var(--transition-ease);
}

.experience-item:hover,
.pattern-item:hover {
  border-color: var(--tribe-accent-light);
}

.experience-item.expanded,
.pattern-item.expanded {
  border-color: var(--tribe-accent);
  box-shadow: var(--shadow-sm);
}

.experience-header,
.pattern-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3);
  cursor: pointer;
  transition: background-color var(--transition-fast) var(--transition-ease);
}

.experience-header:hover,
.pattern-header:hover {
  background-color: var(--vscode-list-hoverBackground);
}

.experience-title,
.pattern-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.experience-decision,
.pattern-topic,
.pattern-correlation-type,
.experience-agent,
.pattern-agent {
  font-weight: 600;
  font-size: var(--font-size-xs);
  color: var(--tribe-accent);
  padding: var(--space-1) var(--space-2);
  background-color: rgba(74, 144, 214, 0.1);
  border-radius: var(--radius-sm);
  white-space: nowrap;
}

.experience-meta,
.pattern-meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.experience-time,
.pattern-success-rate {
  font-size: var(--font-size-xs);
  color: var(--tribe-accent);
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.pattern-success-rate svg {
  color: var(--tribe-success);
}

.experience-details,
.pattern-details {
  padding: var(--space-3);
  border-top: 1px solid var(--vscode-panel-border);
  animation: fadeIn var(--transition-normal) var(--transition-ease-out);
}

.pattern-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
}

.pattern-stat {
  display: flex;
  flex-direction: column;
  padding: var(--space-2) var(--space-3);
  background-color: color-mix(in srgb, var(--vscode-editor-background) 97%, var(--tribe-accent) 3%);
  border-radius: var(--radius-md);
  border: 1px solid transparent;
  transition: all var(--transition-fast) var(--transition-ease);
}

.pattern-stat:hover {
  background-color: color-mix(in srgb, var(--vscode-editor-background) 95%, var(--tribe-accent) 5%);
  border-color: color-mix(in srgb, var(--vscode-panel-border) 90%, var(--tribe-accent) 10%);
  transform: translateY(-1px);
}

.stat-label {
  font-size: var(--font-size-xs);
  color: var(--vscode-descriptionForeground);
  margin-bottom: var(--space-1);
}

.stat-value {
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--vscode-foreground);
}

.experience-actions,
.pattern-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: var(--space-3);
  gap: var(--space-2);
}

/* Memory Visualization tab styles */
.visualization-tab {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.visualization-tab .tab-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-3);
}

.visualization-info {
  padding: var(--space-2) var(--space-3);
  background-color: color-mix(in srgb, var(--tribe-info) 10%, transparent);
  border-radius: var(--radius-md);
  font-size: var(--font-size-xs);
  line-height: 1.5;
  margin-left: var(--space-2);
  flex: 1;
}

.visualization-info p {
  margin: 0;
}

.memory-visualization-wrapper {
  flex: 1;
  min-height: 400px;
  overflow: hidden;
  display: flex;
  border: 1px solid var(--vscode-panel-border);
  border-radius: var(--radius-md);
}

/* Additional styles for feedback tab, insights, and reflections */
.feedback-type-improvement {
  background-color: color-mix(in srgb, var(--tribe-info) 15%, transparent);
  color: var(--tribe-info);
}

.feedback-type-praise {
  background-color: color-mix(in srgb, var(--tribe-success) 15%, transparent);
  color: var(--tribe-success);
}

.feedback-type-correction {
  background-color: color-mix(in srgb, var(--tribe-warning) 15%, transparent);
  color: var(--tribe-warning);
}

.insight-confidence, 
.reflection-focus, 
.feedback-flow {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-xs);
}

.insight-confidence {
  color: var(--tribe-success);
}

.reflection-focus {
  padding: var(--space-1) var(--space-2);
  background-color: color-mix(in srgb, var(--tribe-secondary) 15%, transparent);
  color: var(--tribe-secondary);
  border-radius: var(--radius-full);
}

.source-experiences-list {
  margin: var(--space-2) 0;
  padding-left: var(--space-4);
  font-size: var(--font-size-xs);
}

.source-experiences-list li {
  margin-bottom: var(--space-1);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .pattern-stats {
    grid-template-columns: 1fr;
  }

  .experience-header,
  .pattern-header,
  .insight-header,
  .reflection-header,
  .feedback-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .experience-meta,
  .pattern-meta,
  .insight-meta,
  .reflection-meta,
  .feedback-meta {
    width: 100%;
    justify-content: space-between;
  }
  
  .visualization-tab .tab-actions {
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-2);
  }
  
  .visualization-info {
    margin-left: 0;
    margin-top: var(--space-2);
  }
  
  .memory-visualization-wrapper {
    min-height: 300px;
  }
}